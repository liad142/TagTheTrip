{"ast":null,"code":"var _jsxFileName = \"/home/liad/WebstormProjects/theTheTrip/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\nimport { Room, Star } from \"@material-ui/icons\";\nimport './app.css';\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [pins, setPins] = useState([]);\n  const [currentPlaceId, setCurrentPlaceId] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: '100vw',\n    height: '100vh',\n    latitude: 46,\n    longitude: 17,\n    zoom: 4\n  });\n  useEffect(() => {\n    const getPins = async () => {\n      try {\n        const res = await axios.get(\"/pins\");\n        console.log(res);\n        setPins(res.data);\n      } catch (err) {\n        console.log(err, 'err in useEffect getting pins');\n      }\n    };\n\n    getPins();\n  }, []);\n\n  const handleMarkerClick = id => {\n    setCurrentPlaceId(id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n      //מחזיק את כל המאפיינים\n      mapboxApiAccessToken: process.env.REACT_APP_MAPBOX,\n      onViewportChange: nextViewport => setViewport(nextViewport),\n      mapStyle: \"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\",\n      children: pins.map(pin => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Marker, {\n          latitude: pin.lat,\n          longitude: pin.long,\n          offsetLeft: -20,\n          offsetTop: -10,\n          children: /*#__PURE__*/_jsxDEV(Room, {\n            style: {\n              fontSize: viewport.zoom * 7,\n              color: 'red',\n              cursor: 'pointer'\n            },\n            onClick: () => handleMarkerClick(pin._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), pin._id === currentPlaceId && /*#__PURE__*/_jsxDEV(Popup, {\n          latitude: pin.lat,\n          longitude: pin.long,\n          closeButton: true,\n          closeOnClick: false,\n          anchor: \"top\",\n          onClose: () => setCurrentPlaceId(null),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'card',\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Place\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: 'place',\n              children: pin.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: 'desc',\n              children: pin.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'stars',\n              children: [/*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'username',\n              children: [\"Created By \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: pin.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 77\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'date',\n              children: format(pin.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"T7yLlI//0bmMCozPxDKibkcvfFs=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/liad/WebstormProjects/theTheTrip/frontend/src/App.js"],"names":["React","useEffect","useState","ReactMapGL","Marker","Popup","Room","Star","axios","format","App","pins","setPins","currentPlaceId","setCurrentPlaceId","viewport","setViewport","width","height","latitude","longitude","zoom","getPins","res","get","console","log","data","err","handleMarkerClick","id","process","env","REACT_APP_MAPBOX","nextViewport","map","pin","lat","long","fontSize","color","cursor","_id","title","desc","username","createdAt"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport ReactMapGL, {Marker, Popup} from 'react-map-gl';\nimport {Room, Star} from \"@material-ui/icons\";\nimport './app.css'\nimport axios from \"axios\";\nimport {format} from \"timeago.js\";\n\n\nfunction App() {\n    const [pins, setPins] = useState([])\n    const [currentPlaceId, setCurrentPlaceId] = useState(null)\n    const [viewport, setViewport] = useState({\n        width: '100vw',\n        height: '100vh',\n        latitude: 46,\n        longitude: 17,\n        zoom: 4\n    });\n\n    useEffect(() => {\n        const getPins = async () => {\n            try {\n                const res = await axios.get(\"/pins\");\n                console.log(res)\n                setPins(res.data);\n            } catch (err) {\n                console.log(err, 'err in useEffect getting pins')\n            }\n        }\n        getPins()\n    }, [])\n    const handleMarkerClick = (id) => {\n        setCurrentPlaceId(id)\n    }\n\n    return (\n        <div className=\"App\">\n            <ReactMapGL\n                {...viewport} //מחזיק את כל המאפיינים\n                mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n                onViewportChange={nextViewport => setViewport(nextViewport)}\n                mapStyle=\"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\"\n            >\n                {pins.map(pin => (\n                    <>\n                        <Marker latitude={pin.lat} longitude={pin.long} offsetLeft={-20} offsetTop={-10}>\n                            <Room style={{fontSize: viewport.zoom * 7, color: 'red',cursor:'pointer'}}\n                            onClick={()=>handleMarkerClick(pin._id)}/>\n\n                        </Marker>\n                        {pin._id === currentPlaceId && (\n                            <Popup\n                                latitude={pin.lat}\n                                longitude={pin.long}\n                                closeButton={true}\n                                closeOnClick={false}\n                                anchor=\"top\"\n                                onClose={() => setCurrentPlaceId(null)}\n                            >\n                                <div className={'card'}>\n                                    <label>Place</label>\n                                    <h4 className={'place'}>{pin.title}</h4>\n                                    <label>Review</label>\n                                    <p className={'desc'}>{pin.desc}</p>\n                                    <label>Rating</label>\n                                    <div className={'stars'}>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                    </div>\n                                    <label>Info</label>\n                                    <span className={'username'}>Created By <b>{pin.username}</b></span>\n                                    <span className={'date'}>{format(pin.createdAt)}</span>\n                                </div>\n                            </Popup>\n                        )}\n                    </>\n                ))}\n\n            </ReactMapGL>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}