{"ast":null,"code":"var _jsxFileName = \"/home/liad/WebstormProjects/theTheTrip/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\nimport { Room, Star } from \"@material-ui/icons\";\nimport './app.css';\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const currentUser = 'LAMA';\n  const [pins, setPins] = useState([]);\n  const [currentPlaceId, setCurrentPlaceId] = useState(null);\n  const [newPlace, setNewPlace] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: '100vw',\n    height: '100vh',\n    latitude: 46,\n    longitude: 17,\n    zoom: 4\n  });\n  useEffect(() => {\n    const getPins = async () => {\n      try {\n        const res = await axios.get(\"/pins\");\n        console.log(res);\n        setPins(res.data);\n      } catch (err) {\n        console.log(err, 'err in useEffect getting pins');\n      }\n    };\n\n    getPins();\n  }, []);\n\n  const handleMarkerClick = id => {\n    setCurrentPlaceId(id);\n  };\n\n  const handleAddClick = e => {\n    console.log(e);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n      //מחזיק את כל המאפיינים\n      mapboxApiAccessToken: process.env.REACT_APP_MAPBOX,\n      onViewportChange: nextViewport => setViewport(nextViewport),\n      mapStyle: \"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\",\n      onDblClick: handleAddClick,\n      children: pins.map(pin => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Marker, {\n          latitude: pin.lat,\n          longitude: pin.long,\n          offsetLeft: -20,\n          offsetTop: -10,\n          children: /*#__PURE__*/_jsxDEV(Room, {\n            style: {\n              fontSize: viewport.zoom * 7,\n              color: pin.username === currentUser ? 'red' : 'blue',\n              cursor: 'pointer'\n            },\n            onClick: () => handleMarkerClick(pin._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this), pin._id === currentPlaceId && /*#__PURE__*/_jsxDEV(Popup, {\n          latitude: pin.lat,\n          longitude: pin.long,\n          closeButton: true,\n          closeOnClick: false,\n          anchor: \"top\",\n          onClose: () => setCurrentPlaceId(null),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'card',\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Place\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: 'place',\n              children: pin.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: 'desc',\n              children: pin.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'stars',\n              children: [/*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'username',\n              children: [\"Created By \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: pin.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 77\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'date',\n              children: format(pin.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"fQTW+bYUt5tseWyG4YMRcvuT8Fk=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/liad/WebstormProjects/theTheTrip/frontend/src/App.js"],"names":["React","useEffect","useState","ReactMapGL","Marker","Popup","Room","Star","axios","format","App","currentUser","pins","setPins","currentPlaceId","setCurrentPlaceId","newPlace","setNewPlace","viewport","setViewport","width","height","latitude","longitude","zoom","getPins","res","get","console","log","data","err","handleMarkerClick","id","handleAddClick","e","process","env","REACT_APP_MAPBOX","nextViewport","map","pin","lat","long","fontSize","color","username","cursor","_id","title","desc","createdAt"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport ReactMapGL, {Marker, Popup} from 'react-map-gl';\nimport {Room, Star} from \"@material-ui/icons\";\nimport './app.css'\nimport axios from \"axios\";\nimport {format} from \"timeago.js\";\n\n\nfunction App() {\n    const currentUser = 'LAMA'\n    const [pins, setPins] = useState([])\n    const [currentPlaceId, setCurrentPlaceId] = useState(null)\n    const [newPlace, setNewPlace] = useState(null)\n    const [viewport, setViewport] = useState({\n        width: '100vw',\n        height: '100vh',\n        latitude: 46,\n        longitude: 17,\n        zoom: 4\n    });\n\n    useEffect(() => {\n        const getPins = async () => {\n            try {\n                const res = await axios.get(\"/pins\");\n                console.log(res)\n                setPins(res.data);\n            } catch (err) {\n                console.log(err, 'err in useEffect getting pins')\n            }\n        }\n        getPins()\n    }, [])\n    const handleMarkerClick = (id) => {\n        setCurrentPlaceId(id)\n    }\n    const handleAddClick = (e) => {\n        console.log(e)\n    }\n\n    return (\n        <div className=\"App\">\n            <ReactMapGL\n                {...viewport} //מחזיק את כל המאפיינים\n                mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n                onViewportChange={nextViewport => setViewport(nextViewport)}\n                mapStyle=\"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\"\n                onDblClick={handleAddClick}\n            >\n                {pins.map(pin => (\n                    <>\n                        <Marker latitude={pin.lat} longitude={pin.long} offsetLeft={-20} offsetTop={-10}>\n                            <Room\n                                style={{\n                                    fontSize: viewport.zoom * 7,\n                                    color: pin.username===currentUser ? 'red':'blue',\n                                    cursor: 'pointer'\n                                }}\n                                onClick={() => handleMarkerClick(pin._id)}\n                            />\n\n                        </Marker>\n                        {pin._id === currentPlaceId && (\n                            <Popup\n                                latitude={pin.lat}\n                                longitude={pin.long}\n                                closeButton={true}\n                                closeOnClick={false}\n                                anchor=\"top\"\n                                onClose={() => setCurrentPlaceId(null)}\n                            >\n                                <div className={'card'}>\n                                    <label>Place</label>\n                                    <h4 className={'place'}>{pin.title}</h4>\n                                    <label>Review</label>\n                                    <p className={'desc'}>{pin.desc}</p>\n                                    <label>Rating</label>\n                                    <div className={'stars'}>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                    </div>\n                                    <label>Info</label>\n                                    <span className={'username'}>Created By <b>{pin.username}</b></span>\n                                    <span className={'date'}>{format(pin.createdAt)}</span>\n                                </div>\n                            </Popup>\n                        )}\n                    </>\n                ))}\n\n                {/*<Popup*/}\n                {/*    latitude={}*/}\n                {/*    longitude={}*/}\n                {/*    closeButton={true}*/}\n                {/*    closeOnClick={false}*/}\n                {/*    anchor=\"top\"*/}\n                {/*    onClose={() => setCurrentPlaceId(null)}*/}\n                {/*>hello</Popup>*/}\n\n            </ReactMapGL>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}