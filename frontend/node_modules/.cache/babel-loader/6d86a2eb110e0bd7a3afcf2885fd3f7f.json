{"ast":null,"code":"var _jsxFileName = \"/home/liad/WebstormProjects/theTheTrip/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\nimport { Room, Star } from \"@material-ui/icons\";\nimport './app.css';\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const currentUser = 'LAMA';\n  const [pins, setPins] = useState([]);\n  const [currentPlaceId, setCurrentPlaceId] = useState(null);\n  const [newPlace, setNewPlace] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: '100vw',\n    height: '100vh',\n    latitude: 46,\n    longitude: 17,\n    zoom: 4\n  });\n  useEffect(() => {\n    const getPins = async () => {\n      try {\n        const res = await axios.get(\"/pins\");\n        setPins(res.data);\n      } catch (err) {\n        console.log(err, 'err in useEffect getting pins');\n      }\n    };\n\n    getPins();\n  }, []);\n\n  const handleMarkerClick = (id, lat, long) => {\n    setCurrentPlaceId(id);\n    setViewport({ ...viewport,\n      latitude: lat,\n      longitude: long\n    }); //מביאים את כל הVIEWPORT אבל משנה את הLAT ו LONG\n  };\n\n  const handleAddClick = e => {\n    const [long, lat] = e.lngLat;\n    setNewPlace({\n      lat,\n      long\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n      //מחזיק את כל המאפיינים\n      mapboxApiAccessToken: process.env.REACT_APP_MAPBOX,\n      onViewportChange: nextViewport => setViewport(nextViewport),\n      mapStyle: \"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\",\n      onDblClick: handleAddClick,\n      transitionDuration: '200',\n      children: [pins.map(pin => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Marker, {\n          latitude: pin.lat,\n          longitude: pin.long,\n          offsetLeft: -20,\n          offsetTop: -10,\n          children: /*#__PURE__*/_jsxDEV(Room, {\n            style: {\n              fontSize: viewport.zoom * 7,\n              color: pin.username === currentUser ? 'red' : 'blue',\n              cursor: 'pointer'\n            },\n            onClick: () => handleMarkerClick(pin._id, pin.lat, pin.long)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), pin._id === currentPlaceId && /*#__PURE__*/_jsxDEV(Popup, {\n          latitude: pin.lat,\n          longitude: pin.long,\n          closeButton: true,\n          closeOnClick: false,\n          anchor: \"top\",\n          onClose: () => setCurrentPlaceId(null),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'card',\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Place\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: 'place',\n              children: pin.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: 'desc',\n              children: pin.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'stars',\n              children: [/*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Star, {\n                className: 'star'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'username',\n              children: [\"Created By \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: pin.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 77\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: 'date',\n              children: format(pin.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true)), newPlace && /*#__PURE__*/_jsxDEV(Popup, {\n        latitude: newPlace.lat,\n        longitude: newPlace.long,\n        closeButton: true,\n        closeOnClick: false,\n        anchor: \"top\",\n        onClose: () => setNewPlace(null),\n        children: \"hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"fQTW+bYUt5tseWyG4YMRcvuT8Fk=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/liad/WebstormProjects/theTheTrip/frontend/src/App.js"],"names":["React","useEffect","useState","ReactMapGL","Marker","Popup","Room","Star","axios","format","App","currentUser","pins","setPins","currentPlaceId","setCurrentPlaceId","newPlace","setNewPlace","viewport","setViewport","width","height","latitude","longitude","zoom","getPins","res","get","data","err","console","log","handleMarkerClick","id","lat","long","handleAddClick","e","lngLat","process","env","REACT_APP_MAPBOX","nextViewport","map","pin","fontSize","color","username","cursor","_id","title","desc","createdAt"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport ReactMapGL, {Marker, Popup} from 'react-map-gl';\nimport {Room, Star} from \"@material-ui/icons\";\nimport './app.css'\nimport axios from \"axios\";\nimport {format} from \"timeago.js\";\n\n\nfunction App() {\n    const currentUser = 'LAMA'\n    const [pins, setPins] = useState([])\n    const [currentPlaceId, setCurrentPlaceId] = useState(null)\n    const [newPlace, setNewPlace] = useState(null)\n    const [viewport, setViewport] = useState({\n        width: '100vw',\n        height: '100vh',\n        latitude: 46,\n        longitude: 17,\n        zoom: 4\n    });\n\n    useEffect(() => {\n        const getPins = async () => {\n            try {\n                const res = await axios.get(\"/pins\");\n                setPins(res.data);\n            } catch (err) {\n                console.log(err, 'err in useEffect getting pins')\n            }\n        }\n        getPins()\n    }, [])\n    const handleMarkerClick = (id,lat,long) => {\n        setCurrentPlaceId(id)\n        setViewport({...viewport,latitude: lat,longitude: long}) //מביאים את כל הVIEWPORT אבל משנה את הLAT ו LONG\n    }\n    const handleAddClick = (e) => {\n        const [long, lat] = e.lngLat;\n        setNewPlace({\n            lat, long\n        })\n    }\n\n    return (\n        <div className=\"App\">\n            <ReactMapGL\n                {...viewport} //מחזיק את כל המאפיינים\n                mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n                onViewportChange={nextViewport => setViewport(nextViewport)}\n                mapStyle=\"mapbox://styles/safak/cknndpyfq268f17p53nmpwira\"\n                onDblClick={handleAddClick}\n                transitionDuration={'200'}\n            >\n                {pins.map(pin => (\n                    <>\n                        <Marker latitude={pin.lat} longitude={pin.long} offsetLeft={-20} offsetTop={-10}>\n                            <Room\n                                style={{\n                                    fontSize: viewport.zoom * 7,\n                                    color: pin.username === currentUser ? 'red' : 'blue',\n                                    cursor: 'pointer'\n                                }}\n                                onClick={() => handleMarkerClick(pin._id,pin.lat,pin.long)}\n                            />\n\n                        </Marker>\n                        {pin._id === currentPlaceId && (\n                            <Popup\n                                latitude={pin.lat}\n                                longitude={pin.long}\n                                closeButton={true}\n                                closeOnClick={false}\n                                anchor=\"top\"\n                                onClose={() => setCurrentPlaceId(null)}\n                            >\n                                <div className={'card'}>\n                                    <label>Place</label>\n                                    <h4 className={'place'}>{pin.title}</h4>\n                                    <label>Review</label>\n                                    <p className={'desc'}>{pin.desc}</p>\n                                    <label>Rating</label>\n                                    <div className={'stars'}>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                        <Star className={'star'}/>\n                                    </div>\n                                    <label>Info</label>\n                                    <span className={'username'}>Created By <b>{pin.username}</b></span>\n                                    <span className={'date'}>{format(pin.createdAt)}</span>\n                                </div>\n                            </Popup>\n                        )}\n                    </>\n                ))}\n\n                {newPlace &&\n                <Popup\n                    latitude={newPlace.lat}\n                    longitude={newPlace.long}\n                    closeButton={true}\n                    closeOnClick={false}\n                    anchor=\"top\"\n                    onClose={() => setNewPlace(null)}\n                >\n                    hello</Popup>\n                }\n\n            </ReactMapGL>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}